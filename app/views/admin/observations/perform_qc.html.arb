active_admin_form_for [:admin, resource], url: perform_qc_admin_observation_path(resource), method: :put do |f|
  f.semantic_errors(*f.object.errors.attribute_names)

  f.inputs do
    f.input :qc2_comment
  end

  f.actions do
    f.button I18n.t("active_admin.observations_page.ready_to_publish"), class: "button", name: "observation[validation_status]", value: "Ready for publication"
    f.button I18n.t("active_admin.observations_page.needs_revision"), class: "button", name: "observation[validation_status]", value: "Needs revision"
  end
end

# loading a fresh observation object as resource could have changed validation status or other properties after validation errors
render partial: "attributes_table", locals: {observation: Observation.find(resource.id)}
